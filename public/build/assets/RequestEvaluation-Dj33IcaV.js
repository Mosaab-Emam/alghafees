import{r as o,j as e,G as b,X as R}from"./app-CUkqiE4q.js";import{C as Z}from"./Container-CLRz4h51.js";import{s as P,a as T,b as X,d as B}from"./stepTwoSchema-Cxc1ADI2.js";import{s as D}from"./contexts-D60E6lNz.js";/* empty css               */import"./ReportsSection-CVmF2qDJ.js";/* empty css             */import"./modal-video-CSczv3la.js";import"./swiper-react-CY0qeqjw.js";/* empty css                   */import{B as L}from"./BgGlassFilterShape-CiW-yCr0.js";import{P as $}from"./PageTopSection-BSZCN5S3.js";import f from"./UploadFIleInput-O1OztAHK.js";import{L as O}from"./Layout-mbh22SxY.js";import x from"./Input-DfG5lr9E.js";import I from"./PricePackageSelector-C7jxasus.js";import U from"./RequestEvaluationFormButtonsBox-CrmcP4kV.js";import p from"./RequestEvaluationFormInput-CZdJ-jds.js";import h from"./RequestEvaluationFormSelectInput-EF2897DL.js";import w from"./RequestEvaluationFormTextArea-DP5uWgd9.js";import A from"./RequestSubmittedSuccessfully-CQmVMWH2.js";import G from"./RequestEvaluationSteps-DH0KHtX0.js";import W from"./TextBox-Deh_88o4.js";/* empty css            */import"./index-D4r1jjLZ.js";import"./SectionTitle-BoWIhB4D.js";import"./logo-Dgvva-m1.js";import"./Button-CZbxM6s9.js";import"./TextContent-CtraRoH8.js";import"./ParagraphContent-Dw0I4LzV.js";import"./riyal-BUJvtyxm.js";import"./IsDoneICon-BNyOmLCF.js";import"./StepIcon-AyqqoqtE.js";import"./StepLineIcon-BMCPlA7L.js";const z=c=>o.createElement("svg",{width:290,height:290,viewBox:"0 0 290 290",fill:"none",xmlns:"http://www.w3.org/2000/svg",...c},o.createElement("path",{opacity:.923,fillRule:"evenodd",clipRule:"evenodd",d:"M185.496 16.1425C197.195 15.8516 202.576 21.5157 201.639 33.1347C199.489 39.2408 195.147 42.6392 188.611 43.33C185.663 43.1596 183.02 42.2155 180.682 40.498C172.796 46.1873 164.96 51.9457 157.176 57.7733C158.924 67.9675 154.676 73.7262 144.432 75.0487C140.473 75.1456 137.075 73.8236 134.236 71.0839C132.184 68.1165 130.768 64.9072 129.988 61.455C123.625 59.263 117.3 56.9974 111.014 54.6581C106.671 60.0401 101.196 61.5507 94.5879 59.1894C85.6579 68.4982 76.69 77.844 67.6836 87.2265C71.3103 96.9392 68.2896 103.547 58.6211 107.051C49.1416 107.767 43.6663 103.425 42.1953 94.0234C43.0069 85.7544 47.5381 81.1285 55.7891 80.1464C57.8887 80.5338 59.9657 80.817 62.0195 80.996C70.6759 71.8933 79.266 62.7362 87.791 53.5253C84.5636 44.7782 87.1125 38.2646 95.4375 33.9843C106.009 32.0954 112.24 36.4378 114.129 47.0116C120.506 49.0741 126.831 51.2453 133.104 53.5253C137.081 48.8642 142.084 47.2594 148.113 48.7108C149.64 49.144 151.056 49.8049 152.361 50.6933C159.813 45.0794 167.365 39.6041 175.018 34.2675C173.744 25.2809 177.236 19.2392 185.496 16.1425ZM186.629 24.6386C192.215 24.2695 194.386 26.724 193.143 32.0019C190.122 35.7779 187.101 35.7779 184.08 32.0019C182.987 28.896 183.837 26.4416 186.629 24.6386ZM98.2695 41.6308C103.355 41.523 105.526 43.9774 104.783 48.9941C101.29 52.9093 98.0809 52.7205 95.1543 48.4276C94.6196 45.3949 95.6578 43.1293 98.2695 41.6308ZM143.016 56.3573C148.532 56.8167 150.326 59.6487 148.396 64.8534C143.821 68.1165 140.706 66.9837 139.051 61.455C139.754 59.2454 141.075 57.5462 143.016 56.3573ZM54.0898 88.6425C58.8964 88.4448 61.068 90.7104 60.6035 95.4394C59.2708 98.2295 57.0997 99.2683 54.0898 98.5546C49.5896 95.2525 49.5896 91.948 54.0898 88.6425Z",fill:"#808282"}),o.createElement("path",{opacity:.931,fillRule:"evenodd",clipRule:"evenodd",d:"M176.434 55.7912C184.554 55.6969 192.673 55.7913 200.789 56.0744C201.801 56.5188 202.65 57.1795 203.338 58.0569C203.527 82.4123 203.716 106.768 203.904 131.123C225.656 152.234 232.075 177.345 223.162 206.455C220.075 214.523 215.827 221.886 210.418 228.545C213.439 231.944 216.649 235.153 220.047 238.174C223.397 236.049 226.795 235.955 230.242 237.891C235.812 243.46 241.382 249.03 246.951 254.6C249.569 258.028 249.569 261.426 246.951 264.795C244.172 267.955 241.057 270.692 237.606 273.008C234.994 273.578 232.539 273.201 230.242 271.875C224.484 266.117 218.726 260.359 212.967 254.6C210.927 251.083 211.21 247.779 213.817 244.688C210.513 241.384 207.208 238.079 203.904 234.776C180.389 253.481 154.807 256.785 127.156 244.688C101.871 230.6 89.2213 208.983 89.2072 179.834C87.7351 179.806 86.5077 179.24 85.5255 178.135C85.1477 143.773 85.1477 109.411 85.5255 75.0491C85.9973 74.5772 86.4697 74.1049 86.9415 73.633C95.0213 72.7183 103.14 72.5297 111.297 73.0666C112.441 73.3215 113.479 73.7933 114.412 74.4826C115.155 92.5731 115.533 110.698 115.545 128.858C119.624 125.353 124.156 122.521 129.139 120.362C129.327 110.355 129.517 100.349 129.705 90.342C129.988 89.3038 130.649 88.6428 131.688 88.3596C140.184 87.9818 148.68 87.9818 157.176 88.3596C158.053 89.0472 158.714 89.8968 159.158 90.9084C159.442 98.6472 159.536 106.388 159.442 114.131C164.163 114.091 168.789 114.658 173.318 115.83C173.507 96.5725 173.696 77.3147 173.885 58.0569C174.676 57.1676 175.526 56.4122 176.434 55.7912ZM182.098 64.2873C186.44 64.2873 190.783 64.2873 195.125 64.2873C195.314 84.3041 195.125 104.317 194.559 124.326C190.615 122.024 186.555 119.947 182.381 118.096C182.098 100.161 182.003 82.2243 182.098 64.2873ZM93.172 81.2795C97.7033 81.2795 102.235 81.2795 106.766 81.2795C106.86 99.9721 106.766 118.663 106.483 137.354C100.749 143.854 96.4073 151.218 93.4552 159.444C93.172 133.389 93.0774 107.335 93.172 81.2795ZM137.352 96.0061C141.883 96.0061 146.414 96.0061 150.945 96.0061C150.945 102.237 150.945 108.467 150.945 114.697C146.329 114.963 141.798 115.719 137.352 116.963C137.352 109.978 137.352 102.992 137.352 96.0061ZM150.379 122.627C176.031 120.681 195.949 130.31 210.135 151.514C222.434 174.072 221.679 196.161 207.869 217.783C190.944 239.539 168.949 247.374 141.883 241.289C116.541 232.804 101.909 215.34 97.9865 188.897C96.5059 163.251 106.607 143.71 128.289 130.274C135.309 126.518 142.673 123.97 150.379 122.627ZM225.145 244.971C230.23 249.679 235.139 254.588 239.871 259.698C238.37 261.482 236.765 263.181 235.057 264.795C230.337 260.075 225.616 255.355 220.897 250.635C220.519 250.257 220.519 249.88 220.897 249.502C222.429 248.066 223.845 246.555 225.145 244.971Z",fill:"#0F819F"}),o.createElement("path",{opacity:.922,fillRule:"evenodd",clipRule:"evenodd",d:"M44.4641 119.795C52.0185 119.701 59.5707 119.795 67.1203 120.078C68.4973 120.246 69.5355 120.907 70.2356 122.061C71.1667 140.151 71.3559 158.276 70.802 176.436C70.606 177.766 69.945 178.804 68.8195 179.551C60.1348 179.929 51.4497 179.929 42.7649 179.551C42.2929 179.079 41.8208 178.607 41.3488 178.135C40.4174 160.045 40.2286 141.92 40.7824 123.76C41.1684 121.583 42.3957 120.261 44.4641 119.795ZM48.9953 128.291C53.5266 128.291 58.0578 128.291 62.5891 128.291C62.5891 142.829 62.5891 157.367 62.5891 171.905C58.0578 171.905 53.5266 171.905 48.9953 171.905C48.9953 157.367 48.9953 142.829 48.9953 128.291Z",fill:"#0F819F"}),o.createElement("path",{opacity:.92,fillRule:"evenodd",clipRule:"evenodd",d:"M150.947 128.291C173.106 126.448 190.759 134.378 203.906 152.08C216.787 173.793 216.221 195.127 202.207 216.084C187.119 234.142 167.955 240.844 144.717 236.191C122.58 229.536 109.08 214.904 104.219 192.295C101.134 167.726 109.913 148.751 130.557 135.371C137.01 131.805 143.807 129.445 150.947 128.291ZM156.045 136.221C135.974 138.284 122.097 148.668 114.414 167.373C108.362 188.583 113.743 206.236 130.557 220.332C149.059 232.793 167.562 232.793 186.064 220.332C200.758 208.397 206.705 193.01 203.906 174.17C197.272 149.893 181.318 137.243 156.045 136.221Z",fill:"#0F819F"}),o.createElement("path",{opacity:.929,fillRule:"evenodd",clipRule:"evenodd",d:"M156.046 145.283C158.29 145.05 160.367 145.522 162.276 146.699C170.676 152.316 179.172 157.791 187.764 163.125C188.119 163.55 188.402 164.022 188.614 164.541C188.992 177.568 188.992 190.596 188.614 203.623C187.988 205.57 186.761 206.986 184.932 207.871C181.579 208.494 178.18 208.777 174.737 208.721C171.467 208.789 168.258 208.506 165.108 207.871C164.256 207.027 163.784 205.988 163.692 204.756C163.503 197.959 163.314 191.162 163.126 184.365C160.644 181.187 157.718 180.715 154.346 182.949C153.657 183.883 153.185 184.921 152.93 186.065C152.742 192.861 152.553 199.658 152.364 206.455C152.152 206.974 151.869 207.446 151.514 207.871C145.529 208.788 139.487 208.977 133.389 208.438C130.929 207.865 129.136 206.449 128.009 204.19C127.378 197.419 127.095 190.622 127.159 183.799C127.089 177.16 127.372 170.552 128.009 163.975C137.342 157.661 146.688 151.43 156.046 145.283ZM157.745 154.346C150.801 159.334 143.627 164.054 136.221 168.506C135.655 179.072 135.466 189.645 135.655 200.225C138.676 200.225 141.697 200.225 144.717 200.225C144.623 194.557 144.717 188.893 145.001 183.232C145.812 180.196 147.417 177.647 149.815 175.586C158.909 170.691 165.989 172.673 171.055 181.533C171.866 187.72 172.149 193.95 171.905 200.225C174.926 200.225 177.947 200.225 180.967 200.225C181.062 189.839 180.967 179.455 180.684 169.072C173.15 163.94 165.503 159.031 157.745 154.346Z",fill:"#808282"})),H=()=>e.jsx(z,{className:"w-[208px] h-[208px] xl:w-[260px] lg:w-[200px] xl:h-[260px] lg:h-[200px] "}),V=({position:c})=>e.jsx("div",{className:`absolute ${c} `,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"161",height:"252",viewBox:"0 0 161 252",fill:"none",children:[e.jsx("mask",{id:"mask0_682_21374",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"161",height:"252",children:e.jsx("rect",{width:"161",height:"252",fill:"#D9D9D9"})}),e.jsx("g",{mask:"url(#mask0_682_21374)",children:e.jsx("circle",{cx:"126.031",cy:"126.031",r:"110.531",transform:"matrix(-0.604901 0.796301 0.796301 0.604901 9.47266 -50)",fill:"#FEFFFF",stroke:"url(#paint0_linear_682_21374)",strokeWidth:"31"})}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"paint0_linear_682_21374",x1:"126.031",y1:"0",x2:"126.031",y2:"252.062",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"white",stopOpacity:"0"}),e.jsx("stop",{offset:"1",stopColor:"#0F819F",stopOpacity:"0.26"})]})})]})}),Q=({goals:c,types:d,entities:u,usage:r,request_no:i})=>{const j=o.useContext(D),[n,_]=o.useState(1),[t,y]=o.useState({});function v(){var m;return window.TamaraWidgetV2.refresh(),((m=R().props.price_packages.find(C=>C.id==Number(l.price_package_id)))==null?void 0:m.price)||0}const{data:l,setData:s,post:S}=b({name:null,first_name:"",last_name:"",mobile:"",email:"",address:"",address_city:"",address_neighbourhood:"",goal_id:"",notes:"",type_id:"",real_estate_details:"",entity_id:"",real_estate_age:"",real_estate_area:"",usage_id:"",location:null,estate_city:"",estate_region:"",estate_line_1:"",estate_line_2:"",instrument_image:null,construction_license:null,other_contracts:null,price_package_id:""}),{data:g,setData:F}=b({estate_city:"",estate_region:"",estate_line_1:"",estate_line_2:""}),k=a=>{s("price_package_id",a.toString())},N=()=>_(n-1),q=()=>{try{switch(n){case 1:B.parse(l);break;case 2:X.parse(l);break;case 3:T.parse(g),Object.entries(g).forEach(([a,m])=>{s(a,m)});break;case 4:P.parse({instrument_image:l.instrument_image,construction_license:l.construction_license,other_contracts:l.other_contracts});break}return y({}),!0}catch(a){if(a.errors){const m={};a.errors.forEach(C=>{C.path&&C.path.length>0&&(m[C.path[0]]=C.message)}),y(m)}return!1}},M=()=>{q()&&(n===4?S("/legacy/rate-request",{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{_(n+1),window.dataLayer=window.dataLayer||[];function a(){window.dataLayer.push(arguments)}a("event","conversion",{send_to:"AW-11048763710/sjDfCP2LldMZEL6Cu5Qp"})}}):_(n+1))};return e.jsxs(e.Fragment,{children:[e.jsx($,{title:j.small_top_title,description:j.main_top_title}),e.jsx("section",{className:"md:mt-[211px] mt-[6rem] md:mb-0 mb-12 relative",children:e.jsxs(Z,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-12",children:[e.jsx(W,{}),e.jsx(H,{})]}),e.jsx(L,{position:"md:hidden flex -right-48 top-48 z-[-1]"}),e.jsx("div",{className:"mb-12",children:e.jsx(I,{emitSelectedPricePackage:k})}),e.jsx("div",{className:"mb-12",children:e.jsx("tamara-widget",{type:"tamara-summary",amount:v(),"inline-type":"2","inline-variant":"outlined",config:'{"badgePosition":"right","showExtraContent":"","hidePayInX":false}'})}),e.jsxs("div",{className:"xl:w-[1200px] lg:w-[1024px] flex lg:flex-row flex-col md:items-start items-center lg:gap-[35px] gap-8 glass-effect glass-effect-bg-primary-3 rounded-tl-[100px] rounded-br-[100px] lg:p-[50px]  py-8 px-6",children:[e.jsx(G,{step:n}),e.jsxs("form",{className:"w-full flex flex-col items-start gap-8",children:[e.jsx(J,{step:n,data:g,setData:F,validationErrors:t}),n===1&&e.jsxs("section",{className:"w-full h-full flex flex-col items-start gap-8",children:[e.jsxs("div",{className:"w-full md:flex-row flex-col flex items-center self-stretch gap-[20px]",children:[e.jsx(p,{type:"text",label:"الاسم الاول",name:"first_name",value:l.first_name,error:t==null?void 0:t.first_name,placeholder:"ادخل اسمك الأول هنا",required:!0,onChange:a=>s("first_name",a.target.value)}),e.jsx(p,{type:"text",label:"الاسم الاخير",name:"last_name",value:l.last_name,error:t==null?void 0:t.last_name,placeholder:"ادخل اسمك الأخير هنا",required:!0,onChange:a=>s("last_name",a.target.value)})]}),e.jsxs("div",{className:"w-full md:flex-row flex-col flex items-center self-stretch gap-[20px]",children:[e.jsx(p,{type:"tel",label:"رقم الجوال",name:"mobile",value:l.mobile,error:t==null?void 0:t.mobile,required:!0,onChange:a=>s("mobile",a.target.value),placeholder:"05XXXXXXXX"}),e.jsx(p,{type:"email",label:"البريد الالكتروني",name:"email",value:l.email,error:t==null?void 0:t.email,required:!0,onChange:a=>s("email",a.target.value),placeholder:"ادخل بريدك الالكتروني هنا"})]}),e.jsx("h3",{className:"text-lg text-Gray-scale-02",children:"عنوان طالب التقييم"}),e.jsxs("div",{className:"w-full md:flex-row flex-col flex items-center self-stretch gap-[20px] -mt-4",children:[e.jsx(p,{type:"text",label:"المدينة",name:"address_city",value:l.address_city,error:t==null?void 0:t.address_city,required:!0,onChange:a=>{s("address_city",a.target.value),s("address",`${a.target.value}, ${l.address_neighbourhood}`.replace(/^,\s*|,\s*$/g,""))},placeholder:"ادخل اسم المدينة"}),e.jsx(p,{type:"text",label:"الحي",name:"address_neighbourhood",value:l.address_neighbourhood,error:t==null?void 0:t.address_neighbourhood,required:!0,onChange:a=>{s("address_neighbourhood",a.target.value),s("address",`${l.address_city}, ${a.target.value}`.replace(/^,\s*|,\s*$/g,""))},placeholder:"ادخل اسم الحي"})]}),e.jsx(h,{name:"goal_id",label:"الغرض من التقييم",value:l.goal_id,error:t==null?void 0:t.goal_id,required:!0,onChange:a=>s("goal_id",a.target.value),placeholder:"اختر الغرض من التقييم",data:c}),e.jsx(w,{name:"notes",label:"تفاصيل الغرض من التقييم",value:l.notes,error:t==null?void 0:t.notes,onChange:a=>s("notes",a.target.value),placeholder:"ادخل تفاصيل الغرض من التقييم الذي تريده"})]}),n===2&&e.jsxs("section",{className:"w-full h-full flex flex-col items-start gap-8",children:[e.jsx(h,{name:"type_id",label:"نوع العقار محل التقييم",placeholder:"اختر نوع العقار ",data:d,value:l.type_id,error:t==null?void 0:t.type_id,required:!0,onChange:a=>s("type_id",a.target.value)}),e.jsx(w,{name:"real_estate_details",label:"تفاصيل العقار",value:l.real_estate_details,error:t==null?void 0:t.real_estate_details,onChange:a=>s("real_estate_details",a.target.value),placeholder:"ادخل تفاصيل العقار هنا"}),e.jsx(h,{name:"entity_id",label:"الجهه الموجه اليها التقييم",placeholder:"اختر الجهه",data:u,value:l.entity_id,error:t==null?void 0:t.entity_id,onChange:a=>s("entity_id",a.target.value)}),e.jsxs("div",{className:"w-full flex md:flex-row flex-col  items-center self-stretch gap-[20px] ",children:[e.jsx(p,{type:"number",label:"عمر العقار",name:"real_estate_age",placeholder:"ادخل العمر بعدد السنوات هنا",value:l.real_estate_age,error:t==null?void 0:t.real_estate_age,required:!0,onChange:a=>s("real_estate_age",a.target.value)}),e.jsx(p,{type:"number",name:"real_estate_area",label:"مساحة العقار",placeholder:"ادخل المساحة بوحدة م2",value:l.real_estate_area,error:t==null?void 0:t.real_estate_area,required:!0,onChange:a=>s("real_estate_area",a.target.value)})]}),e.jsx(h,{name:"usage_id",label:"استعمال العقار",placeholder:"اختر نوع الاستعمال",data:r,value:l.usage_id,error:t==null?void 0:t.usage_id,required:!0,onChange:a=>s("usage_id",a.target.value)})]}),n===4&&e.jsxs("section",{className:"w-full h-[661px] flex flex-col items-start gap-8",children:[e.jsx(f,{radius:"rounded-tl-[20px] rounded-br-[20px]",name:"instrument_image",label:"صورة الصك",placeholder:"اختر من الملفات",value:l.instrument_image,error:t==null?void 0:t.instrument_image,handleFileChange:a=>s("instrument_image",a.target.files[0])}),e.jsx(f,{radius:"rounded-tl-[20px] rounded-br-[20px]",name:"construction_license",label:"رخصة البناء",placeholder:"اختر من الملفات",value:l.construction_license,error:t==null?void 0:t.construction_license,handleFileChange:a=>s("construction_license",a.target.files[0])}),e.jsx(f,{radius:"rounded-tl-[20px] rounded-br-[20px]",name:"other_contracts",label:" مستندات اخرى",placeholder:"اختر من الملفات",value:l.other_contracts,error:t==null?void 0:t.other_contracts,handleFileChange:a=>s("other_contracts",a.target.files[0])})]}),n===5&&e.jsx(A,{request_no:(i==null?void 0:i.toString())||""}),n!==5&&e.jsx(U,{step:n,onHandleNextStep:M,onHandlePrevStep:N})]})]}),e.jsx(V,{position:"md:flex hidden left-[-49px] top-1/2 z-[-1]"})]})})]})};Q.layout=c=>e.jsx(O,{children:c});const J=({step:c,data:d,setData:u,validationErrors:r})=>c!==3?e.jsx(e.Fragment,{}):e.jsxs("section",{className:"w-full h-[661px] flex flex-col gap-8",children:[e.jsxs("div",{className:"flex gap-8",children:[e.jsx(x.Text,{required:!0,name:"estate_region",label:"المنطقة",placeholder:"ادخل اسم المنطقة",value:d.estate_region,error:(r==null?void 0:r.estate_region)||"",onChange:i=>u("estate_region",i.target.value)}),e.jsx(x.Text,{required:!0,name:"estate_city",label:"المدينة",placeholder:"ادخل اسم المدينة",value:d.estate_city,error:(r==null?void 0:r.estate_city)||"",onChange:i=>u("estate_city",i.target.value)})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx(x.Text,{required:!0,name:"estate_line_1",label:"العنوان 1",placeholder:"أدخل اسم الحي",value:d.estate_line_1,error:(r==null?void 0:r.estate_line_1)||"",onChange:i=>u("estate_line_1",i.target.value)}),e.jsx(x.Text,{name:"estate_line_2",label:"العنوان 2",placeholder:"ادخل رقم العقار",value:d.estate_line_2,error:(r==null?void 0:r.estate_line_2)||"",onChange:i=>u("estate_line_2",i.target.value)})]})]});export{Q as default};
