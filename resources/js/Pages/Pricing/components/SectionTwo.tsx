import { Logo } from "@/assets/icons";
import { Button, ParagraphContent } from "@/components";
import Container from "@/components/Container";
import Heading from "@/components/Heading";
import { withColoredText } from "@/utils";
import { staticContext } from "@/utils/contexts";
import { Link } from "@inertiajs/react";
import { Phone } from "lucide-react";
import { useContext, useEffect, useRef, useState } from "react";

const SectionTwo = () => {
    const static_content = useContext<Record<string, string>>(staticContext);
    const ref1 = useRef<HTMLDivElement>(null);
    const ref2 = useRef<HTMLDivElement>(null);
    const [radius1, setRadius1] = useState<number>(0);
    const [radius2, setRadius2] = useState<number>(0);

    useEffect(() => {
        setRadius1(ref1.current?.clientWidth! * 0.125);
        setRadius2(ref2.current?.clientWidth! * 0.125);
    }, [ref1, ref2]);

    return (
        <section className="mb-16">
            <Container>
                <div className="flex flex-col md:flex-row gap-8">
                    <div
                        ref={ref1}
                        className="py-8 border-2 border-primary-600 md:w-2/3"
                        style={{
                            borderTopLeftRadius: radius1,
                            borderBottomRightRadius: radius1,
                        }}
                    >
                        <div className="flex md:pl-16 mb-8 justify-between items-center">
                            <Logo className="h-12" />
                            <HandshakeIcon />
                            <TamaraLogo />
                        </div>
                        <div className="px-8 md:pl-8 md:pr-16 text-center md:text-right">
                            <Heading
                                size={3}
                                title={static_content["payment_title"]}
                                className="mb-2"
                            />
                            <div className="mb-8">
                                {/* <ParagraphContent>
                                    <div
                                        dangerouslySetInnerHTML={{
                                            __html: static_content[
                                                "payment_description"
                                            ],
                                        }}
                                    />
                                </ParagraphContent> */}
                                {/* @ts-ignore */}
                                <tamara-widget
                                    type="tamara-summary"
                                    amount="1"
                                    inline-type="3"
                                    config='{"badgePosition":"right","showExtraContent":"full","hidePayInX":false}'
                                />
                            </div>
                            <Link href="/request-evaluation" className="w-full">
                                <Button className="w-full">ابدأ الآن</Button>
                            </Link>
                        </div>
                    </div>
                    <div
                        ref={ref2}
                        className="flex flex-col items-center p-8 border-2 border-primary-600 md:w-1/3"
                        style={{
                            borderTopRightRadius: radius2,
                            borderBottomLeftRadius: radius2,
                        }}
                    >
                        <div className="border-2 border-primary-600 rounded-full w-20 h-20 flex items-center justify-center mb-8">
                            <Phone color="white" fill="#0F819F" size={48} />
                        </div>
                        <ParagraphContent textDirection="text-center mb-8">
                            <div
                                dangerouslySetInnerHTML={{
                                    __html: static_content[
                                        "contact_description"
                                    ],
                                }}
                            />
                        </ParagraphContent>
                        <Link href="/contact-us" className="w-full">
                            <Button className="w-full">تواصل معنا</Button>
                        </Link>
                    </div>
                </div>
            </Container>
        </section>
    );
};

const HandshakeIcon = () => {
    return (
        <svg
            width="64"
            height="64"
            viewBox="0 0 90 92"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <rect
                x="1"
                y="1.98047"
                width="88"
                height="88"
                rx="44"
                fill="#FEFFFF"
            />
            <rect
                x="1"
                y="1.98047"
                width="88"
                height="88"
                rx="44"
                stroke="#0F819F"
                strokeWidth="2"
            />
            <path
                opacity="0.954"
                fillRule="evenodd"
                clipRule="evenodd"
                d="M73.7098 30.9659C73.7098 38.551 73.7098 46.1362 73.7098 53.7213C73.5364 54.0254 73.2747 54.2319 72.9247 54.3409C70.2331 54.416 67.5415 54.416 64.8499 54.3409C64.6117 54.2145 64.4061 54.0455 64.2331 53.8339C64.0834 53.3821 63.9338 52.9315 63.7845 52.4821C63.2238 52.8952 62.663 53.3082 62.1023 53.7213C62.1298 56.5097 60.7654 58.0681 58.0088 58.3963C56.8757 60.2985 55.1935 61.1622 52.962 60.9872C51.7569 62.9638 50.0373 63.7337 47.8032 63.2966C46.9811 63.8034 46.0839 64.0287 45.1116 63.9725C43.4016 63.9069 41.8315 63.4 40.4013 62.4517C36.7312 59.7442 33.1424 56.928 29.6349 54.0029C28.4166 52.8168 27.239 51.5964 26.1022 50.3418C26.0192 50.7794 25.8697 51.1925 25.6536 51.5809C25.4517 51.7856 25.2087 51.9171 24.9246 51.9752C22.3452 52.0503 19.7657 52.0503 17.1863 51.9752C16.8413 51.8352 16.5422 51.6286 16.2891 51.3556C16.2891 43.7705 16.2891 36.1853 16.2891 28.6002C16.4548 28.3403 16.6791 28.1338 16.962 27.9806C20.6064 27.9702 24.1952 28.4208 27.7283 29.3325C28.7476 29.6096 29.6635 30.079 30.476 30.7406C30.6335 31.3651 30.6895 32.0034 30.6442 32.6556C33.822 32.6745 36.9997 32.6556 40.177 32.5993C42.9041 30.3088 45.9322 29.8207 49.2611 31.1349C51.8043 32.2527 54.365 33.3229 56.9434 34.3454C56.8772 33.7209 57.0828 33.2139 57.5602 32.8246C62.5122 30.963 67.6337 30.1369 72.9247 30.3463C73.2747 30.4552 73.5364 30.6617 73.7098 30.9659ZM18.7564 30.5153C21.8459 30.6608 24.874 31.1678 27.8405 32.0361C27.9704 32.1497 28.0452 32.2999 28.0648 32.4867C27.0209 38.2394 25.5816 43.8907 23.747 49.4406C22.0923 49.5522 20.4287 49.5897 18.7564 49.5532C18.7564 43.2073 18.7564 36.8612 18.7564 30.5153ZM70.5696 32.7683C70.7939 32.7683 71.0182 32.7683 71.2425 32.7683C71.2425 39.1519 71.2425 45.5353 71.2425 51.9189C69.5701 51.9554 67.9066 51.9179 66.2518 51.8062C64.4642 46.0062 62.3895 40.3173 60.0275 34.7397C60.0729 34.6332 60.1477 34.5581 60.2518 34.5144C63.6394 33.528 67.0787 32.9459 70.5696 32.7683ZM44.663 32.9936C45.6875 32.9381 46.6968 33.0319 47.691 33.2752C51.2419 34.8145 54.8307 36.2601 58.4574 37.6123C60.1108 41.6741 61.6435 45.7858 63.0555 49.9475C62.3604 50.439 61.6502 50.9084 60.9247 51.3556C59.7864 50.0057 58.5527 48.7478 57.2237 47.5818C53.6684 44.7066 50.1543 41.7777 46.6817 38.7951C45.6466 38.7872 44.6746 39.05 43.7658 39.5836C43.1776 39.7753 42.5796 39.9255 41.9714 40.0342C41.2941 40.9023 40.509 41.6534 39.6162 42.2873C38.6274 42.6864 37.6554 42.6489 36.7003 42.1746C36.537 41.5418 36.5931 40.9223 36.8686 40.3159C37.4296 39.1879 38.1025 38.1365 38.8872 37.1617C39.9192 36.1623 40.9847 35.2048 42.0835 34.2891C42.8923 33.7327 43.7521 33.3009 44.663 32.9936ZM30.1956 35.134C32.5511 35.1151 34.9063 35.134 37.2611 35.1903C35.4896 37.0219 34.4054 39.1998 34.0087 41.724C34.1774 43.6584 35.2241 44.7473 37.1489 44.9909C38.885 45.287 40.4551 44.9116 41.8592 43.8644C42.3452 43.3762 42.8312 42.888 43.3172 42.3999C44.2255 42.0919 45.1227 41.7915 46.0088 41.4987C49.1242 44.2452 52.3017 46.9113 55.5415 49.4969C57.0314 50.7302 58.3211 52.1383 59.4107 53.7213C59.7612 54.893 59.3313 55.6064 58.1209 55.8616C57.9597 55.837 57.8102 55.7806 57.6723 55.6927C55.205 53.3645 52.8125 50.9613 50.4948 48.483C48.8797 48.1153 48.3002 48.7349 48.7564 50.3418C50.9621 52.7074 53.2424 54.9979 55.5976 57.2134C55.6329 57.3721 55.5955 57.5222 55.4854 57.664C54.8135 58.4024 54.0098 58.609 53.0742 58.2836C50.9434 56.2934 48.8873 54.2282 46.906 52.0878C45.2909 51.7202 44.7114 52.3397 45.1676 53.9466C46.9588 55.8585 48.7905 57.7359 50.663 59.5791C50.3547 60.5899 49.6632 61.0217 48.5882 60.8746C46.3113 58.8505 44.1431 56.7101 42.0835 54.4535C40.7573 54.0961 40.1405 54.603 40.233 55.9743C41.8107 57.8975 43.5116 59.7186 45.3359 61.4378C43.9703 61.4312 42.7367 61.0182 41.6349 60.1987C38.1314 57.581 34.6921 54.8774 31.3171 52.0878C29.8185 50.6201 28.3605 49.1182 26.9433 47.5818C28.2286 43.4879 29.3127 39.3386 30.1956 35.134Z"
                fill="black"
            />
            <path
                opacity="0.954"
                fillRule="evenodd"
                clipRule="evenodd"
                d="M70.5696 32.7682C70.7939 32.7682 71.0182 32.7682 71.2425 32.7682C71.2425 39.1518 71.2425 45.5352 71.2425 51.9188C69.5701 51.9553 67.9066 51.9178 66.2518 51.8061C64.4642 46.0061 62.3895 40.3172 60.0275 34.7396C60.0729 34.6331 60.1477 34.558 60.2518 34.5143C63.6394 33.5279 67.0787 32.9459 70.5696 32.7682ZM44.663 32.9935C45.6875 32.938 46.6968 33.0318 47.691 33.2751C51.2419 34.8144 54.8307 36.26 58.4574 37.6122C60.1108 41.674 61.6435 45.7858 63.0555 49.9474C62.3604 50.4389 61.6502 50.9083 60.9247 51.3555C59.7864 50.0056 58.5527 48.7477 57.2237 47.5817C53.6684 44.7066 50.1543 41.7776 46.6817 38.795C45.6466 38.7871 44.6746 39.0499 43.7658 39.5836C43.1776 39.7752 42.5796 39.9255 41.9714 40.0342C41.2941 40.9022 40.509 41.6533 39.6162 42.2872C38.6274 42.6863 37.6554 42.6488 36.7003 42.1745C36.537 41.5418 36.5931 40.9222 36.8686 40.3158C37.4296 39.1878 38.1025 38.1364 38.8872 37.1616C39.9192 36.1622 40.9847 35.2047 42.0835 34.289C42.8923 33.7326 43.7521 33.3008 44.663 32.9935Z"
                fill="#0F819F"
            />
        </svg>
    );
};

const TamaraLogo = () => {
    return (
        <svg
            width="149"
            height="35"
            viewBox="0 0 199 47"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="ml-8 mr-4 md:mx-0"
        >
            <g clipPath="url(#clip0_1740_3927)">
                <path
                    d="M19.0247 15.4453C18.5449 15.4453 17.8392 15.9164 17.5852 16.3875C16.823 17.8007 16.2585 19.3525 15.5246 20.7935C15.1294 21.5694 15.2988 22.0128 15.8633 22.6501C17.3594 24.3128 18.9401 25.92 20.1821 27.7766C21.6781 29.9658 21.4805 32.3212 19.5611 34.1501C18.1215 35.5357 16.4279 36.7827 14.5931 37.6417C11.968 38.861 9.11709 39.6369 6.37908 40.6622C6.01213 40.8007 5.41936 41.2718 5.3629 41.6043C5.19354 42.6019 5.75808 42.879 6.15326 43.0453C9.28645 44.4031 12.4761 45.6224 15.8069 46.9525C16.8795 45.373 17.9521 43.9043 18.8836 42.3525C23.9645 33.9839 25.0935 25.3658 20.4079 16.4429C20.2103 15.9718 19.5046 15.473 19.0247 15.4453Z"
                    fill="black"
                />
                <path
                    d="M131.595 4.61106L131.482 4.50022C129.958 3.00383 127.531 3.00383 126.006 4.50022C124.482 5.9966 124.482 8.37974 126.006 9.87612L126.119 9.98696C128.321 12.1484 130.777 10.8183 131.595 9.98696C133.12 8.49058 133.12 6.10745 131.595 4.61106Z"
                    fill="black"
                />
                <path
                    d="M115.505 4.74958C115.11 5.13753 114.799 5.5809 114.602 6.0797L120.473 11.0677C120.755 10.9014 121.037 10.7074 121.291 10.458L121.404 10.3472C123.719 8.07488 122.279 5.52549 121.404 4.63874C119.795 3.05922 117.198 3.05922 115.59 4.63874L115.505 4.74958Z"
                    fill="black"
                />
                <path
                    d="M28.2007 2.17183C28.2007 2.17183 26.7611 5.13689 26.1119 6.63328C25.8579 7.24292 25.6603 7.9634 25.7167 8.62846C25.9708 13.8935 26.1684 19.1586 26.5635 24.3959C26.9587 29.7441 29.6403 33.6514 34.6929 35.8959C38.2213 37.4755 41.9472 38.1959 45.7861 38.4176C50.6129 38.6947 55.4397 38.8333 60.2947 38.861C68.3394 38.9164 76.2994 38.3622 84.1747 36.8104C86.6023 36.5056 94.1953 34.5658 95.4938 33.873C96.9615 33.0971 96.8769 33.2634 98.3729 33.6514C101.986 34.5381 111.527 34.3441 114.293 33.5405C116.128 33.014 117.821 32.5706 118.216 31.3514C119.91 33.9562 120.842 35.2863 123.749 35.0369C126.656 34.7875 126.91 34.649 129.761 34.0116C132.132 33.4851 133.911 31.9887 134.616 29.7164C135.068 28.3032 135.011 27.6381 135.124 26.5851C135.576 22.8441 134.983 19.3248 132.782 16.1935C132.415 15.6947 132.217 15.1959 130.947 15.2791C130.552 15.3068 129.987 15.861 129.733 16.3321C128.999 17.7176 128.463 19.214 127.757 20.5995C127.362 21.3754 127.531 21.9297 128.152 22.5116C129.479 23.7032 130.721 24.9224 132.386 26.5851C129.197 26.9176 128.096 27.2501 125.358 27.4718C122.592 27.6935 117.567 27.6381 116.156 25.1995C115.111 23.3983 114.462 22.1791 112.769 20.9598C109.974 18.9369 105.43 18.9369 101.647 20.8489C99.9254 21.708 98.1471 23.3983 97.8366 25.4212C97.6955 26.308 97.385 27.0562 96.3688 27.3333C80.7028 31.2959 62.3271 33.1249 46.9152 31.4345C42.9916 30.9911 39.0963 30.3538 35.3703 28.9405C32.0678 27.6658 30.5718 25.4212 30.6282 21.902C30.7411 15.4176 30.6564 8.93328 30.6282 2.44894C30.6282 2.44894 30.7411 1.20195 29.4145 1.09111C28.8499 0.980267 28.2007 2.19954 28.2007 2.17183ZM112.966 29.1068L100.151 28.9682C100.151 28.9682 101.111 24.008 106.305 23.814C113.813 23.5092 112.966 29.1068 112.966 29.1068Z"
                    fill="black"
                />
                <path
                    d="M10.6703 2.78252C10.6703 2.78252 10.7832 1.53553 9.45655 1.42469C8.94846 1.36926 8.27102 2.58854 8.27102 2.58854C8.27102 2.58854 6.83144 5.5536 6.18222 7.04998C5.92818 7.65962 5.73059 8.38011 5.78704 9.04517C5.89995 11.6223 6.01286 14.2271 6.15399 16.8042C6.32336 20.4897 6.52094 24.1476 6.6903 27.8331C6.80321 30.1054 6.91612 32.35 7.05726 34.65H9.17428C9.68236 32.0729 10.6139 29.5512 10.6703 27.0018C10.6703 23.5656 10.6703 7.43794 10.6703 2.78252Z"
                    fill="black"
                />
                <path
                    d="M147.627 14.5037C146.47 15.6953 145.623 17.0531 145.059 18.4941L162.954 33.07C163.801 32.5435 164.62 31.9339 165.354 31.158L165.692 30.7977C172.467 23.8423 168.035 16.3049 165.326 13.7555C160.442 9.15554 152.68 9.32181 147.966 14.1158L147.627 14.5037Z"
                    fill="black"
                />
                <path
                    d="M186.891 34.0679C193.58 34.0679 199 28.7474 199 22.1799C199 15.6125 193.58 10.292 186.891 10.292C180.201 10.292 174.781 15.6125 174.781 22.1799C174.781 28.7474 180.201 34.0679 186.891 34.0679Z"
                    fill="black"
                />
            </g>
            <defs>
                <clipPath id="clip0_1740_3927">
                    <rect
                        width="199"
                        height="46"
                        fill="white"
                        transform="translate(0 0.980469)"
                    />
                </clipPath>
            </defs>
        </svg>
    );
};

export default SectionTwo;
